<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
    "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>Saiku</title>
        <!-- Blueprint CSS -->
        <link rel="stylesheet" href="css/blueprint/src/reset.css" type="text/css" media="screen, projection">
        <link rel="stylesheet" href="css/blueprint/src/typography.css" type="text/css" media="screen, projection">
        <link rel="stylesheet" href="css/blueprint/src/forms.css" type="text/css" media="screen, projection">
        <!--[if lt IE 8]><link rel="stylesheet" href="css/blueprint/src/ie.css" type="text/css" media="screen, projection"><![endif]-->
        <!-- Saiku CSS -->
        <link rel="stylesheet" href="css/saiku/src/styles.css" type="text/css" media="screen, projection">
        <!-- <link rel="stylesheet" href="css/saiku/src/styles_cahill.css" type="text/css" media="all"> -->
        <!--[if IE 7]><link rel="stylesheet" href="css/saiku/src/styles_ie7.css" type="text/css" media="screen, projection"><![endif]-->
        <!-- jQuery -->
        <script src="js/jquery/src/jquery.1.4.3.min.js" type="text/javascript"></script>
        <script src="js/jquery/src/jquery.ui.1.8.5.custom.min.js" type="text/javascript"></script>
        <script src="js/jquery/src/jquery.jqmodal.rc14.js" type="text/javascript"></script>
        <!-- Saiku JS 
        <script src="js/saiku/controller.js" type="text/javascript"></script> -->

        <script type="text/javascript">
            
            $(document).ready(function() {

                var window_height = $(window).height();

                if(window_height <= 600) {
                    window_height = 600;
                }

                var workspace_offset = $('.workspace').outerHeight(true) - $('.workspace').height(),
                sidebar_offset = ($('#header').outerHeight(true) + ($('#tabs').outerHeight(true) + 1)),
                sidebar_height = window_height - sidebar_offset,
                workspace_height = sidebar_height - workspace_offset;

                $('.sidebar, .sidebar_toggler').css('height', sidebar_height);
                $('.workspace').css('height', workspace_height);

                $(window).resize(function(){
                    var window_height = $(window).height();

                    if(window_height <= 600) {
                        window_height = 600;
                    }

                    var workspace_offset = $('.workspace').outerHeight(true) - $('.workspace').height(),
                    sidebar_offset = ($('#header').outerHeight(true) + ($('#tabs').outerHeight(true) + 1)),
                    sidebar_height = window_height - sidebar_offset,
                    workspace_height = sidebar_height - workspace_offset;

                    $('.sidebar, .sidebar_toggler').css('height', sidebar_height);
                    $('.workspace').css('height', workspace_height);

                });

                $('#right').click(function() {
                    var content = $("#tabs #tabs_scrollable ul");
                    // Work out the current margin-left
                    var position = parseInt($(content).css('margin-left').replace("px", ""));
                    // If the margin-left is 0 do nothing else move to the left
                    if(position == 0 ) {
                        position = 0;
                    }else{
                        position = position + 25;
                    }
                    $(content).css('margin-left', position+'px');
                    return false;
                });
                $('#left').click(function() {
                    var content = $("#tabs #tabs_scrollable ul");
                    // Work out the current margin-left
                    var position = parseInt($(content).css('margin-left').replace("px", ""));
                    var length_of_tabs = 0;

                    $('#tabs #tabs_scrollable ul li').each(function(index){
                        length_of_tabs = $(this).width() + length_of_tabs;
                    });
                    
                    console.log('We have moved '+position);
                    console.log('Tabs are '+length_of_tabs+ 'px long');
                    console.log('You have clicked ' + ((position/25 * -1) + 1) + ' times');
                    console.log('Formula: ' + ((length_of_tabs/25)));


                    //if((position)  > (length_of_tabs)) {
                    //    position = position
                    //}else{
                        position = position - 25;
                    //}
                    $(content).css('margin-left', position+'px')
                    return false;
                });
                
            });

        </script>
        <style type="text/css">
            #tabs_scroll_buttons {
                width: 100%;
            }
            #tabs_scroll_buttons .scroll_left {
                /*t*/ background: -webkit-gradient(linear, left top, left bottom, from(#F9F9F9), to(#F2F2F2));
                /*t*/ background: -moz-linear-gradient(top, #F9F9F9 0%, #F2F2F2 100%);
                /*t*/ color: #888;
                /*t*/ border-left: 1px solid #CCC;
                /*t*/ border-bottom: 1px solid #CCC;
                cursor: pointer;
                display: block;
                padding: 9px 0 8px 0;
                position: absolute;
                right: 0px;
                top: 43px;
                z-index: 0;
            }
            #tabs_scroll_buttons .scroll_right {
                /*t*/ background: #F2F2F2;
                /*t*/ background: -webkit-gradient(linear, left top, left bottom, from(#F9F9F9), to(#F2F2F2));
                /*t*/ background: -moz-linear-gradient(top, #F9F9F9 0%, #F2F2F2 100%);
                /*t*/ color: #888;
                /*t*/ border-right: 1px solid #CCC;
                /*t*/ border-bottom: 1px solid #CCC;
                cursor: pointer;
                display: block;
                padding: 9px 0 8px 0;
                position: absolute;
                left: 0px;
                top: 43px;
                z-index: 0;
            }
            #tabs_scroll_buttons .scroll_right:hover {
                background: #E9E9E9;
                /*t*/ border-right: 1px solid #BBB;
                /*t*/ border-bottom: 1px solid #BBB;
            }
            #tabs_scroll_buttons .scroll_left:hover {
                background: #E9E9E9;
                /*t*/ border-left: 1px solid #BBB;
                /*t*/ border-bottom: 1px solid #BBB;
            }
            #tabs_scroll_buttons a {
                color: #777;
                cursor: pointer;
                text-decoration: none;
                text-align: center;
                padding: 4px 2px;
                display: block;
                width: 10px;
                height: 10px;
            }
            #tabs_scroll_buttons .scroll_left a {
                /*t*/ background: transparent url('images/src/br_next.png') no-repeat 2px 4px;
            }
            #tabs_scroll_buttons .scroll_right a {
                /*t*/ background: transparent url('images/src/br_prev.png') no-repeat 1px 4px;
            }
            #tabs #tabs_scrollable {
                overflow: hidden;
            }
        </style>
    </head>
    <body>
        <!-- header -->
        <div id="header">
            <!-- toolbar -->
            <div id="toolbar">
                <ul>
                    <li><a id="new_tab" href="#" title="New Query" class="new_tab"></a></li>
                    <li class="separator">&nbsp;</li>
                    <li><a id="open_query" href="#" title="Open Query" class="open_query"></a></li>
                    <li><a id="save_query" href="#" title="Save Query" class="save_query"></a></li>
                    <li><a id="delete_query" href="#" title="Delete Query" class="delete_query"></a></li>
                    <li class="separator">&nbsp;</li>
                    <li><a id="logout" href="#" title="Logout" class="logout"></a></li>
                    <li><a id="about" href="#" title="About" class="about"></a></li>
                </ul>
            </div>
            <!-- eof toolbar -->
            <!-- logo -->
            <div id="logo">
                <h1><!-- Insert logo here --></h1>
            </div>
            <!-- eof logo -->
        </div>
        <!-- eof header -->
        <!-- tabs -->
        <div id="tabs_scroll_buttons">
            <div class="scroll_right"><a id="right" href="#" title="Scroll Left"></a></div>
            <div class="scroll_left"><a id="left" href="#" title="Scroll Right"></a></div>

        </div>
        <div id="tabs" style="z-index: -1;">
            <div id="tabs_scrollable">
                <ul>
                    <li class="closable selected"><a>Unsaved query (1)</a><span class="close"></span></li>
                    <li class="closable"><a>Unsaved query (1)</a><span class="close"></span></li>
                    <li class="closable"><a>Unsaved query (1)</a><span class="close"></span></li>
                    <li class="closable"><a>Unsaved query (1)</a><span class="close"></span></li>
                    <li class="closable"><a>Unsaved query (1)</a><span class="close"></span></li>
                    <li class="closable"><a>Unsaved query (1)</a><span class="close"></span></li>
                    <li class="closable"><a>Unsaved query (1)</a><span class="close"></span></li>
                    <li class="closable"><a>Unsaved query (1)</a><span class="close"></span></li>
                    <li class="closable"><a>Unsaved query (1)</a><span class="close"></span></li>
                    <li class="closable"><a>Unsaved query (1)</a><span class="close"></span></li>
                </ul>
            </div>
        </div>
        <!-- eof tabs -->
        <!-- tab_panel -->
        <div id="tab_panel">
            <!-- workspace_wrap -->
            <div class="workspace_wrap">
                <!-- workspace -->
                <div class="workspace">
                    <!-- workspace_wrap -->
                    <!-- workspace_toolbar
                    <div class="workspace_toolbar">Hi there. I'm a toolbar.</div>  -->
                    <!-- eof workspace_toolbar -->
                    <!-- dropzone -->
                    <div class="dropzone">
                        <div class="dropzone_title">Columns</div>
                        <div class="dropzone_area">
                            <div class="dropzone_columns">
                                <ul>
                                    <li class="placeholder">Drop fields here</li>
                                </ul>
                            </div>
                        </div>
                        <div class="clear"></div>
                    </div>
                    <div class="dropzone rows">
                        <div class="dropzone_title">Rows</div>
                        <div class="dropzone_area">
                            <div class="dropzone_rows">
                                <ul>
                                    <li class="placeholder">Drop fields here</li>
                                </ul>
                            </div>
                        </div>
                        <div class="clear"></div>
                    </div>
                    <div class="dropzone filters">
                        <div class="dropzone_title">Filters</div>
                        <div class="dropzone_area">
                            <div class="dropzone_filters">
                                <ul>
                                    <li class="placeholder">Drop fields here</li>
                                </ul>
                            </div>
                        </div>
                        <div class="clear"></div>
                    </div>
                    <!-- eof dropzone -->
                </div>
                <!-- eof workspace -->
            </div>
            <!-- eof workspace_wrap -->
            <!-- sidebar -->
            <div class="sidebar">
                <h3 class="top">Cubes</h3>
                <div class="sidebar_inner">
                    <select class="cubes">
                        <option>Select a cube</option>
                    </select>
                </div>
                <h3>Dimensions</h3>
                <div class="sidebar_inner">
                    <div class="dimensions_tree"></div>
                </div>
                <h3>Measures</h3>
                <div class="sidebar_inner">
                    <div class="measures_tree"></div>
                </div>
            </div>
            <div class="sidebar_toggler">&nbsp;</div>
            <!-- eof sidebar -->
        </div>
        <!-- eof tab_panel -->
        <!-- login_form -->
        <div id="login_form" class="dialog hide">
            <div class="dialog_inner">
                <h3>Login into Saiku</h3>
                <div class="dialog_content">
                    <div class="dialog_image">
                        <img src="images/src/key.png" alt="Login" />
                    </div>
                    <div class="dialog_message">
                        <label for="username">Username</label>
                        <input type="text" name="username" class="username" value="admin"/><br/>
                        <label for="password">Password</label>
                        <input type="password" name="password" class="password" value="admin"/>
                    </div>
                    <div class="clear"></div>
                    <div class="dialog_buttons">
                        <input type="button" id="login" value="&nbsp;&nbsp;Login&nbsp;&nbsp;"/>
                    </div>
                </div>
            </div>
        </div>
        <!-- eof login_form -->
        <!-- waiting -->
        <div id="waiting" class="dialog hide">
            <div class="dialog_inner">
                <div class="dialog_content">
                    <div class="dialog_image">
                        <img src="images/src/loading.gif" alt="Loading" />
                    </div>
                    <div class="dialog_message">
                        Please wait...
                    </div>
                    <div class="clear"></div>
                </div>
            </div>
        </div>
        <!-- eof waiting -->
        <!-- alert -->
        <div id="info" class="dialog hide">
            <div class="dialog_inner">
                <h3></h3>
                <div class="dialog_content">
                    <div class="dialog_image">
                        <img src="images/src/attention.png" alt="Alert" />
                    </div>
                    <div class="dialog_message">
                    </div>
                    <div class="clear"></div>
                    <div class="dialog_buttons">
                        <input type="button" class="jqmClose" value="&nbsp;&nbsp;OK&nbsp;&nbsp;"/>
                    </div>
                </div>
            </div>
        </div>
        <!-- eof alert -->
    </body>
</html>