CREATE SCHEMA PUBLIC AUTHORIZATION DBA
CREATE MEMORY TABLE PAT_CONNECTIONS(ID VARCHAR(255) NOT NULL PRIMARY KEY,CATALOG VARCHAR(255),CONNECTONSTARTUP BOOLEAN NOT NULL,DRIVERCLASSNAME VARCHAR(255),NAME VARCHAR(255),PASSWORD VARCHAR(255),SCHEMADATA VARCHAR(255),TYPE VARBINARY(255),URL VARCHAR(255),USERNAME VARCHAR(255))
CREATE MEMORY TABLE PAT_GROUPS(NAME VARCHAR(255) NOT NULL PRIMARY KEY)
CREATE MEMORY TABLE PAT_GROUPS_USERS(GROUP_ID VARCHAR(255) NOT NULL,USER_ID VARCHAR(255) NOT NULL,CONSTRAINT FKA28DF9F917DC5D1F FOREIGN KEY(GROUP_ID) REFERENCES PAT_GROUPS(NAME))
CREATE MEMORY TABLE PAT_QUERIES(ID VARCHAR(255) NOT NULL PRIMARY KEY,CONNECTIONID VARCHAR(255),CUBE VARBINARY(255),CUBENAME VARCHAR(255),NAME VARCHAR(255),QUERYID VARCHAR(255),QUERYTYPE INTEGER,UPDATEDDATE TIMESTAMP,USERNAME VARCHAR(255),XML VARCHAR(255))
CREATE MEMORY TABLE PAT_USERS(USERNAME VARCHAR(255) NOT NULL PRIMARY KEY,ENABLED BOOLEAN NOT NULL,PASSWORD VARCHAR(255))
CREATE MEMORY TABLE PAT_USERS_CONNECTIONS(USER_ID VARCHAR(255) NOT NULL,CONNECTION_ID VARCHAR(255) NOT NULL,PRIMARY KEY(USER_ID,CONNECTION_ID),CONSTRAINT SYS_CT_55 UNIQUE(CONNECTION_ID),CONSTRAINT FKC0556CA218155D75 FOREIGN KEY(USER_ID) REFERENCES PAT_USERS(USERNAME),CONSTRAINT FKC0556CA2FB166866 FOREIGN KEY(CONNECTION_ID) REFERENCES PAT_CONNECTIONS(ID))
CREATE MEMORY TABLE PAT_USERS_QUERIES(USER_ID VARCHAR(255) NOT NULL,QUERY_ID VARCHAR(255) NOT NULL,PRIMARY KEY(USER_ID,QUERY_ID),CONSTRAINT SYS_CT_59 UNIQUE(QUERY_ID),CONSTRAINT FKCA469D3318155D75 FOREIGN KEY(USER_ID) REFERENCES PAT_USERS(USERNAME),CONSTRAINT FKCA469D33C76E1DCE FOREIGN KEY(QUERY_ID) REFERENCES PAT_QUERIES(ID))
ALTER TABLE PAT_GROUPS_USERS ADD CONSTRAINT FKA28DF9F918155D75 FOREIGN KEY(USER_ID) REFERENCES PAT_USERS(USERNAME)
CREATE USER SA PASSWORD ""
CREATE USER HIBUSER PASSWORD "PASSWORD"
CREATE USER PENTAHO_USER PASSWORD "PASSWORD"
GRANT DBA TO SA
GRANT DBA TO HIBUSER
GRANT DBA TO PENTAHO_USER
SET WRITE_DELAY 20
SET SCHEMA PUBLIC
INSERT INTO PAT_CONNECTIONS VALUES('e5a2adff-a223-404f-bf96-6b5aca8af226',NULL,FALSE,NULL,'Local Pentaho XML/A','password','','aced00057372002f6f72672e70656e7461686f2e7061742e7365727665722e646174612e706f6a6f2e436f6e6e656374696f6e5479706500000000000000010200014c00046e616d657400124c6a6176612f6c616e672f537472696e673b7870740004584d4c41','http://localhost:8080/pentaho/Xmla','joe')
INSERT INTO PAT_GROUPS VALUES('Administrators')
INSERT INTO PAT_GROUPS VALUES('Users')
INSERT INTO PAT_GROUPS_USERS VALUES('Administrators','admin')
INSERT INTO PAT_GROUPS_USERS VALUES('Users','admin')
INSERT INTO PAT_USERS VALUES('admin',TRUE,'admin')
INSERT INTO PAT_USERS_CONNECTIONS VALUES('admin','e5a2adff-a223-404f-bf96-6b5aca8af226')
